{"ast":null,"code":"var _jsxFileName = \"/home/mah-nigga/Projects/ifarmer/client/src/components/CreateSurvey.js\";\nimport React, { useState } from 'react';\nimport '../assests/css/admin.css';\nimport axios from 'axios';\n\nconst CreateSurvey = () => {\n  const [state, setState] = useState({\n    title: '',\n    questions: [{\n      question: '',\n      type: 'free',\n      options: []\n    }]\n  });\n  const [submitBtn, setSubmitBtn] = useState(false);\n  const [alert, setAlert] = useState({\n    status: null,\n    msg: ''\n  });\n\n  const handleTitleChange = e => {\n    let temp = { ...state\n    };\n    temp.title = e.target.value;\n    setState(temp);\n  };\n\n  const handleQuestionChanges = (e, i) => {\n    let temp = { ...state\n    };\n    temp.questions[i].question = e.target.value;\n    setState(temp);\n  };\n\n  const handleTypeChanges = (e, i) => {\n    let temp = { ...state\n    };\n    temp.questions[i].type = e.target.value;\n    setState(temp);\n  };\n\n  const handleOptionChanges = (e, i, j) => {\n    let temp = { ...state\n    };\n    temp.questions[i].options[j] = e.target.value;\n    setState(temp);\n  };\n\n  const addOption = (e, i) => {\n    let temp = { ...state\n    };\n    temp.questions[i].options.push('');\n    setState(temp);\n  };\n\n  const addQuestion = e => {\n    let temp = { ...state\n    };\n    temp.questions.push({\n      question: '',\n      type: 'free',\n      options: []\n    });\n    setState(temp);\n  };\n\n  const deleteQuestion = (e, i) => {\n    if (state.questions.length > 1) {\n      let temp = { ...state\n      };\n      temp.questions.splice(i, 1);\n      setState(temp);\n    }\n  };\n\n  const deleteOption = (e, i, j) => {\n    if (state.questions[i].options.length > 1) {\n      let temp = { ...state\n      };\n      temp.questions[i].options.splice(j, 1);\n      setState(temp);\n    }\n  };\n\n  const submit = e => {\n    setSubmitBtn(true);\n    const config = {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n    axios.post('/api/v1/admin/create', {\n      data: state\n    }, config).then(res => {\n      setAlert({\n        status: res.data.status,\n        msg: res.data.msg\n      });\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"page-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"title\",\n    onChange: handleTitleChange,\n    value: state.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"questions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 15\n    }\n  }, \"Questions\")), state.questions.map((question, i) => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"each-question\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"question-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"counter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 21\n    }\n  }, i + 1, \". \"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"question\",\n    onChange: e => handleQuestionChanges(e, i),\n    value: state.questions[i].question,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn delete\",\n    onClick: e => deleteQuestion(e, i),\n    style: {\n      marginLeft: '10px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 21\n    }\n  }, \"Delete\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"answer-type\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    name: \"type\",\n    defaultValue: \"free\",\n    onChange: e => handleTypeChanges(e, i),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"free\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 23\n    }\n  }, \"Free Input\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"scq\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 23\n    }\n  }, \"Single Choice\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"mcq\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 23\n    }\n  }, \"Multiple Choice\"))), state.questions[i].type == 'free' ? null : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"options\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 21\n    }\n  }, state.questions[i].options.map((option, j) => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"option\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"options\",\n    value: state.questions[i].options[j],\n    onChange: e => handleOptionChanges(e, i, j),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn delete\",\n    onClick: e => deleteOption(e, i, j),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 29\n    }\n  }, \"Delete\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"add-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn add\",\n    style: {\n      marginLeft: '5%',\n      marginTop: '10px'\n    },\n    onClick: e => addOption(e, i),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 21\n    }\n  }, \"Add\")))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"add-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn add\",\n    onClick: addQuestion,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 13\n    }\n  }, \"Add\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"submit-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      textAlign: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn submit\",\n    onClick: submit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 13\n    }\n  }, \"Submit\"), alert.status == null ? null : /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: '20px',\n      color: 'lightseagreen',\n      fontWeight: 800\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 17\n    }\n  }, \"The survey has been uploaded.\")))));\n};\n\nexport default CreateSurvey;","map":{"version":3,"sources":["/home/mah-nigga/Projects/ifarmer/client/src/components/CreateSurvey.js"],"names":["React","useState","axios","CreateSurvey","state","setState","title","questions","question","type","options","submitBtn","setSubmitBtn","alert","setAlert","status","msg","handleTitleChange","e","temp","target","value","handleQuestionChanges","i","handleTypeChanges","handleOptionChanges","j","addOption","push","addQuestion","deleteQuestion","length","splice","deleteOption","submit","config","headers","post","data","then","res","map","marginLeft","option","marginTop","textAlign","color","fontWeight"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport '../assests/css/admin.css'\nimport axios from 'axios'\n\nconst CreateSurvey = () => {\n\n  const [state, setState] = useState({\n    title: '',\n    questions: [{\n      question: '',\n      type: 'free',\n      options: []\n    }]\n  })\n\n  const [submitBtn, setSubmitBtn] = useState(false)\n\n  const [alert, setAlert] = useState({\n    status: null,\n    msg: ''\n  })\n\n  const handleTitleChange = (e) => {\n    let temp = { ...state }\n    temp.title = e.target.value\n    setState(temp)\n  }\n\n  const handleQuestionChanges = (e, i) => {\n    let temp = { ...state }\n    temp.questions[i].question = e.target.value\n    setState(temp)\n  }\n\n  const handleTypeChanges = (e, i) => {\n    let temp = { ...state }\n    temp.questions[i].type = e.target.value\n    setState(temp)\n  }\n\n  const handleOptionChanges = (e, i, j) => {\n    let temp = { ...state }\n    temp.questions[i].options[j] = e.target.value\n    setState(temp)\n  }\n\n  const addOption = (e, i) => {\n    let temp = { ...state }\n    temp.questions[i].options.push('')\n    setState(temp)\n  }\n\n  const addQuestion = e => {\n    let temp = { ...state }\n    temp.questions.push({\n      question: '',\n      type: 'free',\n      options: []\n    })\n    setState(temp)\n  }\n\n  const deleteQuestion = (e, i) => {\n    if (state.questions.length > 1) {\n      let temp = { ...state }\n      temp.questions.splice(i, 1)\n      setState(temp)\n    }\n  }\n\n  const deleteOption = (e, i, j) => {\n    if (state.questions[i].options.length > 1) {\n      let temp = { ...state }\n      temp.questions[i].options.splice(j, 1)\n      setState(temp)\n    }\n  }\n\n  const submit = e => {\n    setSubmitBtn(true)\n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    }\n    axios.post('/api/v1/admin/create', {data: state}, config).then(res => {\n      setAlert({\n        status: res.data.status,\n        msg: res.data.msg\n      })\n    })\n  }\n\n  return (\n    <div className='page-wrapper'>\n      <div className='content-wrapper'>\n        <div className='box'>\n          <div className='title'>\n            <input type='text' name='title' \n            onChange={(handleTitleChange)} \n            value={state.title}\n            />\n          </div>\n          <div className='questions'>\n            <div className='header'>\n              <h3>Questions</h3>\n            </div>\n\n            {\n              state.questions.map((question, i) => (\n                <div className='each-question'>\n                  <div className='question-body'>\n                    <div className='counter'>{i+1}. </div>\n                    <input type='text' name='question' \n                    onChange={e => handleQuestionChanges(e, i)}\n                    value={state.questions[i].question}\n                    />\n                    <button className='btn delete' \n                    onClick={e => deleteQuestion(e, i)}\n                    style={{ marginLeft: '10px' }}\n                    >Delete</button>\n                  </div>\n                  <div className='answer-type'>\n                    <select name='type' defaultValue='free' onChange={e => handleTypeChanges(e, i)}>\n                      <option value=\"free\">Free Input</option>\n                      <option value=\"scq\">Single Choice</option>\n                      <option value=\"mcq\">Multiple Choice</option>\n                    </select>\n                  </div>\n                  \n                {\n                  state.questions[i].type == 'free' ? null : (\n                    <>\n                    <div className='options'>\n                {\n                    state.questions[i].options.map((option, j) => (\n                        <div className='option'>\n                            <input type='text' name='options'\n                             value={state.questions[i].options[j]}\n                              onChange={e => handleOptionChanges(e, i, j)}/>\n                            <button className='btn delete' onClick={e => deleteOption(e, i, j)}>Delete</button>\n                          </div>\n                      ))\n                    }\n                  </div>\n\n                  <div className='add-btn'>\n                    <button className='btn add' style={{\n                      marginLeft: '5%',\n                      marginTop: '10px'\n                    }}\n                    onClick={e => addOption(e, i)}\n                    >Add</button>\n                  </div>\n                  </>\n               )\n              }\n                </div>\n              ))\n            }\n          </div>\n\n          <div className='add-btn'>\n            <button className='btn add' onClick={addQuestion}>Add</button>\n          </div>\n        </div>\n        <div className='submit-btn'>\n          <p style={{textAlign: 'center'}} >\n            <button className='btn submit' onClick={submit}>Submit</button>\n            {\n              alert.status == null ? null : (\n                <div style={{ marginTop: '20px', color: 'lightseagreen', fontWeight: 800 }}>The survey has been uploaded.</div>\n              )\n            }\n          </p>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default CreateSurvey"]},"metadata":{},"sourceType":"module"}