{"ast":null,"code":"import _toConsumableArray from\"/home/mah-nigga/React/ChatApp/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/home/mah-nigga/React/ChatApp/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{CREATE_STREAM,JOIN_STREAM,GET_STREAM,SEND_MESSAGE,CHOOSE_STREAM,DELETE_STREAM,UPDATE_STREAM}from'../types';export default(function(state,action){switch(action.type){case GET_STREAM:return _objectSpread(_objectSpread({},state),{},{streams:action.payload,current:action.payload[0],currentMessage:action.payload[0].messages.reverse(),loading:false});case CHOOSE_STREAM:return _objectSpread(_objectSpread({},state),{},{current:action.payload,currentMessage:action.payload.messages.reverse()});case SEND_MESSAGE:var _action$payload=action.payload,formData=_action$payload.formData,current=_action$payload.current;return _objectSpread(_objectSpread({},state),{},{current:current,currentMessage:[].concat(_toConsumableArray(state.currentMessage),[formData]).reverse()});case'RENDER_MESSAGES':return _objectSpread(_objectSpread({},state),{},{current:action.payload,currentMessage:action.payload.messages.reverse()});case'SET_CURRENT':return _objectSpread(_objectSpread({},state),{},{current:action.payload,currentMessage:action.payload.messages});case CREATE_STREAM:return _objectSpread(_objectSpread({},state),{},{streams:[].concat(_toConsumableArray(state.streams),[action.payload])});case DELETE_STREAM:return _objectSpread(_objectSpread({},state),{},{streams:state.streams.filter(function(stream){return stream.id!==action.payload.id;}),current:state.streams[0]});case JOIN_STREAM:return _objectSpread(_objectSpread({},state),{},{streams:[].concat(_toConsumableArray(state.streams),[action.payload])});default:return _objectSpread({},state);}});","map":{"version":3,"sources":["/home/mah-nigga/React/ChatApp/client/src/context/streams/StreamReducer.js"],"names":["CREATE_STREAM","JOIN_STREAM","GET_STREAM","SEND_MESSAGE","CHOOSE_STREAM","DELETE_STREAM","UPDATE_STREAM","state","action","type","streams","payload","current","currentMessage","messages","reverse","loading","formData","filter","stream","id"],"mappings":"6TAAA,OACEA,aADF,CAEEC,WAFF,CAGEC,UAHF,CAIEC,YAJF,CAKEC,aALF,CAMEC,aANF,CAOEC,aAPF,KAQO,UARP,CAUA,eAAe,SAACC,KAAD,CAAQC,MAAR,CAAmB,CAChC,OAAQA,MAAM,CAACC,IAAf,EAEE,IAAKP,CAAAA,UAAL,CACE,sCACKK,KADL,MAEEG,OAAO,CAAEF,MAAM,CAACG,OAFlB,CAGEC,OAAO,CAAEJ,MAAM,CAACG,OAAP,CAAe,CAAf,CAHX,CAIEE,cAAc,CAAEL,MAAM,CAACG,OAAP,CAAe,CAAf,EAAkBG,QAAlB,CAA2BC,OAA3B,EAJlB,CAKEC,OAAO,CAAE,KALX,GAOF,IAAKZ,CAAAA,aAAL,CACE,sCACKG,KADL,MAEEK,OAAO,CAAEJ,MAAM,CAACG,OAFlB,CAGEE,cAAc,CAAEL,MAAM,CAACG,OAAP,CAAeG,QAAf,CAAwBC,OAAxB,EAHlB,GAKF,IAAKZ,CAAAA,YAAL,qBACgCK,MAAM,CAACG,OADvC,CACUM,QADV,iBACUA,QADV,CACoBL,OADpB,iBACoBA,OADpB,CAEE,sCACKL,KADL,MAEEK,OAAO,CAAEA,OAFX,CAGEC,cAAc,CAAE,6BAAIN,KAAK,CAACM,cAAV,GAA0BI,QAA1B,GAAoCF,OAApC,EAHlB,GAKF,IAAK,iBAAL,CACE,sCACKR,KADL,MAEEK,OAAO,CAAEJ,MAAM,CAACG,OAFlB,CAGEE,cAAc,CAAEL,MAAM,CAACG,OAAP,CAAeG,QAAf,CAAwBC,OAAxB,EAHlB,GAKF,IAAK,aAAL,CACE,sCACKR,KADL,MAEEK,OAAO,CAAEJ,MAAM,CAACG,OAFlB,CAGEE,cAAc,CAAEL,MAAM,CAACG,OAAP,CAAeG,QAHjC,GAKF,IAAKd,CAAAA,aAAL,CACE,sCACKO,KADL,MAEEG,OAAO,8BAAMH,KAAK,CAACG,OAAZ,GAAqBF,MAAM,CAACG,OAA5B,EAFT,GAIF,IAAKN,CAAAA,aAAL,CACE,sCACKE,KADL,MAEEG,OAAO,CAAEH,KAAK,CAACG,OAAN,CAAcQ,MAAd,CAAqB,SAAAC,MAAM,QAAIA,CAAAA,MAAM,CAACC,EAAP,GAAcZ,MAAM,CAACG,OAAP,CAAeS,EAAjC,EAA3B,CAFX,CAGER,OAAO,CAAEL,KAAK,CAACG,OAAN,CAAc,CAAd,CAHX,GAKF,IAAKT,CAAAA,WAAL,CACE,sCACKM,KADL,MAEEG,OAAO,8BAAMH,KAAK,CAACG,OAAZ,GAAqBF,MAAM,CAACG,OAA5B,EAFT,GAIF,QACE,wBACKJ,KADL,EApDJ,CAwDD,CAzDD","sourcesContent":["import {\n  CREATE_STREAM,\n  JOIN_STREAM,\n  GET_STREAM,\n  SEND_MESSAGE,\n  CHOOSE_STREAM,\n  DELETE_STREAM,\n  UPDATE_STREAM\n} from '../types'\n\nexport default (state, action) => {\n  switch (action.type) {\n\n    case GET_STREAM: \n      return {\n        ...state,\n        streams: action.payload,\n        current: action.payload[0],\n        currentMessage: action.payload[0].messages.reverse(),\n        loading: false\n      }\n    case CHOOSE_STREAM: \n      return {\n        ...state,\n        current: action.payload,\n        currentMessage: action.payload.messages.reverse()\n      }\n    case SEND_MESSAGE: \n      const { formData, current } = action.payload\n      return {\n        ...state,\n        current: current,\n        currentMessage: [...state.currentMessage, formData].reverse()\n      }\n    case 'RENDER_MESSAGES':\n      return {\n        ...state,\n        current: action.payload,\n        currentMessage: action.payload.messages.reverse()\n      }\n    case 'SET_CURRENT': \n      return {\n        ...state,\n        current: action.payload,\n        currentMessage: action.payload.messages\n      }\n    case CREATE_STREAM: \n      return {\n        ...state,\n        streams: [...state.streams, action.payload]\n      }\n    case DELETE_STREAM:\n      return {\n        ...state,\n        streams: state.streams.filter(stream => stream.id !== action.payload.id),\n        current: state.streams[0]\n      }\n    case JOIN_STREAM: \n      return {\n        ...state,\n        streams: [...state.streams, action.payload]\n      }\n    default: \n      return {\n        ...state\n      }\n  }\n}"]},"metadata":{},"sourceType":"module"}